<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thinkgem.jeesite.modules.sys.dao.MessageInfoDao">

	<!--根据id 查看消息-->
	<select id="get" resultType="MessageInfo">
		SELECT
		a.id AS id,
		a.title AS title,
		a.message AS message,
		a.receive_phone AS receivePhone,
		a.isread AS isRead,
		a.target_type AS targetType,
		a.target_id AS targetId,
		a.push_time AS pushTime,
		a.create_by AS createBy,
		a.create_date AS createDate,
		a.update_by AS updateBy,
		a.update_date AS updateDate,
		a.del_flag AS delFlag
		FROM sys_push_message a
		WHERE a.id = #{id}
		AND a.receive_phone=#{receivePhone}
		AND a.del_flag={delFlag}
	</select>

	<!--列表查看消息-->
	<select id="findList" resultType="MessageInfo">
		SELECT
		a.id AS id,
		a.title AS title,
		a.message AS message,
		a.receive_phone AS receivePhone,
		a.isread AS isRead,
		a.target_type AS targetType,
		a.target_id AS targetId,
		a.push_time AS pushTime,
		a.create_by AS createBy,
		a.create_date AS createDate,
		a.update_by AS updateBy,
		a.update_date AS updateDate,
		a.del_flag AS delFlag
		FROM sys_push_message a
		WHERE a.receive_phone=#{receivePhone}
		AND a.del_flag=#{delFlag}
	</select>

	<!--新增-->
	<insert id="insert">
		INSERT INTO sys_push_message(
			id,
			title,
			message,
			receive_phone,
			isread,
			target_type,
			target_id,
			push_time,
			create_by,
			create_date,
			update_by,
			update_date,
			remarks,
			del_flag
		)VALUES(
			#{id},
			#{title},
			#{message},
			#{receivePhone},
			#{isRead},
			#{targetType},
			#{targetId},
			#{pushTime},
			#{createBy},
			#{createDate},
			#{updateBy},
			#{updateDate},
			#{remarks},
			#{delFlag}
		)
	</insert>

</mapper>